library(devtools)
install_github('mikeasilva/blsAPI')
response <- blsAPI('CIU1010000000000A')
library(blsAPI)
response <- blsAPI('CIU1010000000000A')
json     <- fromJSON(response)
data_list  <- json$Results$series[[1]]$data[-1]
cpi        <- data.frame(matrix(unlist(data_list), ncol = 4, byrow = TRUE,
dimnames = list(NULL, c("year", "period",
"periodName", "value"))),
stringsAsFactors = FALSE)
library(jsonlite)
json     <- fromJSON(response)
View(json)
payload <- list(
'seriesid'  = c('LAUCN360610000000004', 'LAUCN360610000000006'),
'startyear' = 2007,
'endyear'   = 2009,
"registrationkey": blsKey)
# pulling data from api
blsKey = "dba2695237064d33a578704eb1187e9a"
payload <- list(
'seriesid'  = c('LAUCN360610000000004', 'LAUCN360610000000006'),
'startyear' = 2007,
'endyear'   = 2009,
"registrationkey": blsKey)
response <- blsAPI(payload, 2)
payload <- list(
'seriesid'  = c('LAUCN360610000000004', 'LAUCN360610000000006'),
'startyear' = 2007,
'endyear'   = 2009,
"registrationkey": "dba2695237064d33a578704eb1187e9a")
payload <- list(
'seriesid'  = c('LAUCN360610000000004', 'LAUCN360610000000006'),
'startyear' = 2007,
'endyear'   = 2009,
"registrationkey": "dba2695237064d33a578704eb1187e9a")
payload <- list(
'seriesid'  = c('LAUCN360610000000004', 'LAUCN360610000000006'),
'startyear' = 2007,
'endyear'   = 2009,
"registrationkey" = "dba2695237064d33a578704eb1187e9a")
response <- blsAPI(payload, 2)
json     <- fromJSON(response)
## Process results
apiDF <- function(data) {
df  <- data.frame(matrix(unlist(data), nrow = length(data), byrow = TRUE))
colnames(df) <- c("year", "period", "periodName", "value")
return(df)
}
unemployed.df  <- apiDF(json$Results$series[[1]]$data)
## Process results
apiDF <- function(data) {
df  <- data.frame(matrix(unlist(data), nrow = length(data), byrow = TRUE))
colnames(df) <- c("year", "period", "periodName", "value")
return(df)
}
unemployed.df  <- apiDF(json$Results$series[[1]]$data)
payload <- list(
'seriesid'  = c('LAUCN360610000000004', 'LAUCN360610000000006'),
'startyear' = 2007,
'endyear'   = 2009,
"registrationkey" = "dba2695237064d33a578704eb1187e9a")
response <- blsAPI(payload, 2)
json     <- fromJSON(response)
## Process results
apiDF <- function(data) {
df  <- data.frame(matrix(unlist(data), nrow = length(data), byrow = TRUE))
colnames(df) <- c("year", "period", "periodName", "value")
return(df)
}
unemployed.df  <- apiDF(json$Results$series[[1]]$data)
View(json)
json[[Results]]
json$Results$series[[1]]
json$Results$series[[1]]$data
json$Results$series$data[[1]]
unemployed.df  <- apiDF(json$Results$series$data[[1]])
View(unemployed.df)
View(unemployed.df)
View(payload)
View(json)
json$Results$series$data[[1]]
## Process results
apiDF <- function(data) {
df  <- data.frame(data)
return(df)
}
unemployed.df  <- apiDF(json$Results$series$data[[1]])
View(unemployed.df)
payload <- list(
'seriesid'  = c('EIUIR14', 'EIUIR15'),
'startyear' = 2007,
'endyear'   = 2009,
"registrationkey" = "dba2695237064d33a578704eb1187e9a")
response <- blsAPI(payload, 2)
json     <- fromJSON(response)
## Process results
apiDF <- function(data) {
df  <- data.frame(data)
return(df)
}
test.df  <- apiDF(json$Results$series$data[[1]])
View(test.df)
View(payload)
View(json)
load("/Users/jacobgosselin/Library/CloudStorage/GoogleDrive-jacob.gosselin@u.northwestern.edu/My Drive/research_ideas/het_sectoral_prod/data/cleaned/BEA_NAICS_crosswalk_constructed.RData")
View(BEA_NAICS_crosswalk)
BEA_NAICS_crosswalk$three_dig <- as.character(BEA_NAICS_crosswalk$three_dig)
# get first 3 digits of NAICS
BEA_NAICS_crosswalk$three_dig <- substr(BEA_NAICS_crosswalk$NAICS, 1, 3)
# eliminate duplicates of Summary/three_dig
unique_summary_threedig_combo <- unique(BEA_NAICS_crosswalk[,c("Summary", "three_dig")])
View(unique_summary_threedig_combo)
load("/Users/jacobgosselin/Library/CloudStorage/GoogleDrive-jacob.gosselin@u.northwestern.edu/My Drive/research_ideas/het_sectoral_prod/data/cleaned/code_desc_crosswalk.RData")
View(code_desc_crosswalk)
